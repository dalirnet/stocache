!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("stocache",[],t):"object"==typeof exports?exports.stocache=t():e.stocache=t()}("undefined"!=typeof self?self:this,(function(){return function(){"use strict";var e={579:function(e,t){var n="stocache",o=60,r=!1,u="localStorage",i=function(e){try{return window[u].setItem(e,JSON.stringify(!0)),JSON.parse(window[u].getItem(e))}catch(e){return!1}}(n+"-support");t.default=function(e,t,c){void 0===e&&(e=n),void 0===t&&(t=u),void 0===c&&(c=r),t="localStorage"==t||"sessionStorage"==t?t:u;var s=function(e){return{key:function(t){void 0===t&&(t=e);for(var n=null===t?e:t,o=0,r=0;r<n.length;r++)o=(o<<5)-o+n.charCodeAt(r),o&=o;return e+"-"+(o>0?o:"i"+Math.abs(o))},exception:function(t,n){return void 0===t&&(t=null),void 0===n&&(n=null),{scope:e,name:t,message:n}}}},a=function(t){return{encode:function(n){void 0===n&&(n="");try{return JSON.stringify(t)}catch(t){var o=t.message;if(c)throw s(e).exception("json.encode",o);return n}},decode:function(n){void 0===n&&(n={});try{return JSON.parse(t)}catch(t){var o=t.message;if(c)throw s(e).exception("json.decode",o);return n}}}},d=function(n){void 0===n&&(n=e);return{set:function(o){void 0===o&&(o=null);try{return window[t].setItem(n,a(o).encode()),!0}catch(t){var r=t.message;if(c)throw s(e).exception("storage.set",r);return!1}},unset:function(){try{return window[t].removeItem(n),!0}catch(t){var o=t.message;if(c)throw s(e).exception("storage.unset",o);return!1}},get:function(e){return void 0===e&&(e=!1),a(window[t].getItem(n)).decode(e)}}},f=function(t,n){void 0===t&&(t=e),void 0===n&&(n=Math.floor(Date.now()/1e3));var o={shadow:s(e).key(),storage:s(e).key(t)},r={object:d(o.shadow).get()||{},remove:function(e){return delete r.object[e],!0},add:function(e,t){return r.object[e]=t,!0}},u=function(){return!!i&&d(o.shadow).set(r.object)},a=function(e){return void 0===e&&(e=o.storage),!!i&&(r.remove(e)&&u()&&d(e).unset())},f=function(e,t){return void 0===t&&(t=v(o.storage)),!(!i||!t)&&(r.add(o.storage,n+parseInt(e))&&u())},v=function(e){return void 0===e&&(e=o.storage),!(!l()||!r.object[e])&&r.object[e]-n},l=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);for(var o=!1,u=null,i=0,c=0,s=Object.keys(r.object);c<s.length;c++){var f=s[c];e||r.object[f]<n?(o=!0,r.remove(f),d(f).unset()):t&&(0===i||i>r.object[f])&&(o=!0,u=f,i=r.object[f])}return!o||a(u)};return{set:function(n,r){if(i){if(e!==t){var u=d(o.storage).set(n);return u||(l(),u=d(o.storage).set(n)),u||(l(!1,!0),u=d(o.storage).set(n)),u||(l(!0),u=d(o.storage).set(n)),!!u&&f(r,!0)}if(c)throw s(e).exception("middleware.set","KeyConflict")}return!1},unset:a,has:v,keep:f,get:function(e){return v(o.storage)?d(o.storage).get(e):e}}};return{set:function(e,t,n){return void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=o),f(e).set(t,n)},unset:function(e){return void 0===e&&(e=null),f(e).unset()},has:function(e){return void 0===e&&(e=null),f(e).has()},keep:function(e,t){return void 0===e&&(e=null),void 0===t&&(t=o),f(e).keep(t)},get:function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),f(e).get(t)},flush:function(e){return void 0===e&&(e=n),f(e).clean(!0)}}}}},t={};return function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}(579)}().default}));
//# sourceMappingURL=index.js.map