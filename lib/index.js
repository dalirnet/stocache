!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("stocache",[],t):"object"==typeof exports?exports.stocache=t():e.stocache=t()}("undefined"!=typeof self?self:this,(function(){return function(){"use strict";var e={579:function(e,t){var o="stocache",n=3600,r=!1,u="localStorage",i=function(e){try{return window[u].setItem(e,JSON.stringify(!0)),JSON.parse(window[u].getItem(e))}catch(e){return!1}}(o+"-support");t.default=function(e,t,c){void 0===e&&(e=o),void 0===t&&(t=u),void 0===c&&(c=r),t="localStorage"==t||"sessionStorage"==localStorage?t:u;var s=function(e){return{key:function(t){void 0===t&&(t=e);for(var o=null===t?e:t,n=0,r=0;r<o.length;r++)n=(n<<5)-n+o.charCodeAt(r),n&=n;return e+"-"+(n>0?n:"i"+Math.abs(n))},exception:function(t,o){return void 0===t&&(t=null),void 0===o&&(o=null),{scope:e,name:t,message:o}}}},a=function(t){return{encode:function(o){void 0===o&&(o="");try{return JSON.stringify(t)}catch(t){var n=t.message;if(c)throw s(e).exception("json.encode",n);return o}},decode:function(o){void 0===o&&(o={});try{return JSON.parse(t)}catch(t){var n=t.message;if(c)throw s(e).exception("json.decode",n);return o}}}},d=function(o){void 0===o&&(o=e);return{set:function(n){void 0===n&&(n=null);try{return window[t].setItem(o,a(n).encode()),!0}catch(t){var r=t.message;if(c)throw s(e).exception("storage.set",r);return!1}},unset:function(){try{return window[t].removeItem(o),!0}catch(t){var n=t.message;if(c)throw s(e).exception("storage.unset",n);return!1}},get:function(e){return void 0===e&&(e=!1),a(window[t].getItem(o)).decode(e)}}},f=function(t,o){void 0===t&&(t=e),void 0===o&&(o=Math.floor(Date.now()/1e3));var n={shadow:s(e).key(),storage:s(e).key(t)},r={object:d(n.shadow).get()||{},remove:function(e){return delete r.object[e],!0},add:function(e,t){return r.object[e]=t,!0}},u=function(){return!!i&&d(n.shadow).set(r.object)},a=function(e){return void 0===e&&(e=n.storage),!!i&&(r.remove(e)&&u()&&d(e).unset())},f=function(e,t){return void 0===t&&(t=v(n.storage)),!(!i||!t)&&(r.add(n.storage,o+parseInt(e))&&u())},v=function(e){return void 0===e&&(e=n.storage),!(!l()||!r.object[e])&&r.object[e]-o},l=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);for(var n=!1,u=null,i=0,c=0,s=Object.keys(r.object);c<s.length;c++){var f=s[c];e||r.object[f]<o?(n=!0,r.remove(f),d(f).unset()):t&&(0===i||closestItem.value>r.object[f])&&(n=!0,u=f,i=r.object[f])}return!n||a(u)};return{set:function(o,r){if(i){if(e!==t){var u=d(n.storage).set(o);return u||(l(),u=d(n.storage).set(o)),u||(l(!1,!0),u=d(n.storage).set(o)),u||(l(!0),u=d(n.storage).set(o)),!!u&&f(r,!0)}if(c)throw s(e).exception("middleware.set","KeyConflict")}return!1},unset:a,has:v,keep:f,get:function(e){return v(n.storage)?d(n.storage).get(e):e}}};return{set:function(e,t,o){return void 0===e&&(e=null),void 0===t&&(t=null),void 0===o&&(o=n),f(e).set(t,o)},unset:function(e){return void 0===e&&(e=null),f(e).unset()},has:function(e){return void 0===e&&(e=null),f(e).has()},keep:function(e,t){return void 0===e&&(e=null),void 0===t&&(t=n),f(e).keep(t)},get:function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),f(e).get(t)},flush:function(e){return void 0===e&&(e=o),f(e).clean(!0)}}}}},t={};return function o(n){if(t[n])return t[n].exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}(579)}().default}));
//# sourceMappingURL=index.js.map