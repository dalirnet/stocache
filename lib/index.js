!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("stocache",[],t):"object"==typeof exports?exports.stocache=t():e.stocache=t()}("undefined"!=typeof self?self:this,(function(){return function(){"use strict";var e={579:function(e,t){var n="stocache",o=3600,r=!1,u=function(e){try{return localStorage.setItem(e,JSON.stringify(!0)),JSON.parse(localStorage.getItem(e))}catch(e){return!1}}(n+"-support");t.default=function(e,t){void 0===e&&(e=n),void 0===t&&(t=r);var i=function(e){return{key:function(t){void 0===t&&(t=e);for(var n=0,o=0;o<t.length;o++)n=(n<<5)-n+t.charCodeAt(o),n&=n;return e+"-"+(n>0?n:"i"+Math.abs(n))},exception:function(t,n){return void 0===t&&(t=null),void 0===n&&(n=null),{scope:e,name:t,message:n}}}},s=function(n){return{encode:function(o){void 0===o&&(o="");try{return JSON.stringify(n)}catch(n){var r=n.message;if(t)throw i(e).exception("json.encode",r);return o}},decode:function(o){void 0===o&&(o={});try{return JSON.parse(n)}catch(n){var r=n.message;if(t)throw i(e).exception("json.decode",r);return o}}}},c=function(n){return void 0===n&&(n=e),{set:function(o,r){void 0===o&&(o=null),void 0===r&&(r=!1);try{return localStorage.setItem(n,s(o).encode()),!0}catch(n){var u=n.message;if(t)throw i(e).exception("storage.set",u);return!1}},unset:function(){try{return localStorage.removeItem(n),!0}catch(n){var o=n.message;if(t)throw i(e).exception("storage.unset",o);return!1}},get:function(e){return void 0===e&&(e=!1),s(localStorage.getItem(n)).decode(e)}}},a=function(n,o){void 0===o&&(o=Math.floor(Date.now()/1e3));var r={shadow:i(e).key(),storage:i(e).key(n)},s=c(r.shadow).get()||{},a=function(){return!!u&&(delete s[r.storage],c(r.storage).unset()&&c(r.shadow).set(s))},f=function(){if(u&&s[r.storage]){if(s[r.storage]>=o)return!0;a()}return!1},d=function(e,t){return void 0===t&&(t=f()),!(!u||!t)&&(s[r.storage]=o+parseInt(e),c(r.shadow).set(s))};return{set:function(o,s){if(u)if(e!==n){if(c(r.storage).set(o,!0))return d(s,!0)}else if(t)throw i(e).exception("middleware.set","KeyConflict");return!1},unset:a,has:f,keep:d,get:function(e){return u&&f()?c(r.storage).get(e):e}}};return{support:u,key:function(t){return void 0===t&&(t=n),i(e).key(t)},set:function(e,t,n){return void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=o),a(e).set(t,n)},unset:function(e){return void 0===e&&(e=null),a(e).unset()},has:function(e){return void 0===e&&(e=null),a(e).has()},keep:function(e,t){return void 0===e&&(e=null),void 0===t&&(t=o),a(e).keep(t)},get:function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),a(e).get(t)}}}}},t={};return function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}(579)}().default}));
//# sourceMappingURL=index.js.map