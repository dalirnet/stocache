{"version":3,"sources":["webpack://stocache/webpack/universalModuleDefinition","webpack://stocache/./src/index.js","webpack://stocache/webpack/bootstrap","webpack://stocache/webpack/runtime/make namespace object","webpack://stocache/webpack/startup"],"names":["config","scope","ttl","exception","support","key","localStorage","setItem","JSON","stringify","parse","getItem","e","Stocache","generator","value","code","i","length","charCodeAt","Math","abs","name","message","json","encode","fallback","decode","storage","set","unset","removeItem","get","middleware","now","floor","Date","keys","shadow","context","commit","clean","flush","expireSoon","changed","expireSoonKey","expireSoonKTime","Object","closestItem","writed","keep","condition","has","parseInt","keyGenerator","cleanExpired"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"stocache\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"stocache\"] = factory();\n\telse\n\t\troot[\"stocache\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn ","const config = {\r\n    scope: 'stocache',\r\n    ttl: 3600,\r\n    exception: false,\r\n}\r\n\r\nconst support = ((key) => {\r\n    try {\r\n        localStorage.setItem(key, JSON.stringify(true))\r\n        return JSON.parse(localStorage.getItem(key))\r\n    } catch (e) {\r\n        return false\r\n    }\r\n})(config.scope + '-' + 'support')\r\n\r\nconst Stocache = (scope = config.scope, exception = config.exception) => {\r\n    const generator = (scope) => ({\r\n        key: (value = scope) => {\r\n            let code = 0\r\n            for (let i = 0; i < value.length; i++) {\r\n                code = (code << 5) - code + value.charCodeAt(i)\r\n                code = code & code\r\n            }\r\n            return scope + '-' + (code > 0 ? code : 'i' + Math.abs(code))\r\n        },\r\n        exception: (name = null, message = null) => ({\r\n            scope,\r\n            name,\r\n            message,\r\n        }),\r\n    })\r\n\r\n    const json = (value) => ({\r\n        encode: (fallback = '') => {\r\n            try {\r\n                return JSON.stringify(value)\r\n            } catch ({ message }) {\r\n                if (exception) throw generator(scope).exception('json.encode', message)\r\n                return fallback\r\n            }\r\n        },\r\n        decode: (fallback = {}) => {\r\n            try {\r\n                return JSON.parse(value)\r\n            } catch ({ message }) {\r\n                if (exception) throw generator(scope).exception('json.decode', message)\r\n                return fallback\r\n            }\r\n        },\r\n    })\r\n\r\n    const storage = (key = scope) => ({\r\n        set: (value = null) => {\r\n            try {\r\n                localStorage.setItem(key, json(value).encode())\r\n                return true\r\n            } catch ({ message }) {\r\n                if (exception) throw generator(scope).exception('storage.set', message)\r\n                return false\r\n            }\r\n        },\r\n        unset: () => {\r\n            try {\r\n                localStorage.removeItem(key)\r\n                return true\r\n            } catch ({ message }) {\r\n                if (exception) throw generator(scope).exception('storage.unset', message)\r\n                return false\r\n            }\r\n        },\r\n        get: (fallback = false) => {\r\n            return json(localStorage.getItem(key)).decode(fallback)\r\n        },\r\n    })\r\n\r\n    const middleware = (key = scope, now = Math.floor(Date.now() / 1000)) => {\r\n        let keys = {\r\n            shadow: generator(scope).key(),\r\n            storage: generator(scope).key(key),\r\n        }\r\n        let context = storage(keys.shadow).get() || {}\r\n\r\n        const commit = () => {\r\n            if (support) {\r\n                return storage(keys.shadow).set(context)\r\n            }\r\n            return false\r\n        }\r\n\r\n        const unset = (key) => {\r\n            if (support) {\r\n                delete context[key]\r\n                return storage(key).unset()\r\n            }\r\n            return false\r\n        }\r\n\r\n        const clean = ({ flush = false, expireSoon = false } = {}) => {\r\n            let changed = false\r\n            let expireSoonKey = null\r\n            let expireSoonKTime = 0\r\n            for (let key of Object.keys(context)) {\r\n                if (flush || context[key] < now) {\r\n                    changed = true\r\n                    unset(key)\r\n                } else if (expireSoon && (expireSoonKTime === 0 || closestItem.value > context[key])) {\r\n                    changed = true\r\n                    expireSoonKey = key\r\n                    expireSoonKTime = context[key]\r\n                }\r\n            }\r\n            return changed ? unset(expireSoonKey) && commit() : true\r\n        }\r\n\r\n        const set = (value, ttl) => {\r\n            if (support) {\r\n                if (scope !== key) {\r\n                    let writed = storage(keys.storage).set(value)\r\n                    if (!writed) {\r\n                        clean()\r\n                        writed = storage(keys.storage).set(value)\r\n                    }\r\n                    if (!writed) {\r\n                        clean({ expireSoon: true })\r\n                        writed = storage(keys.storage).set(value)\r\n                    }\r\n                    if (!writed) {\r\n                        clean({ flush: true })\r\n                        writed = storage(keys.storage).set(value)\r\n                    }\r\n                    return writed ? keep(ttl, true) : false\r\n                } else {\r\n                    if (exception) throw generator(scope).exception('middleware.set', 'KeyConflict')\r\n                }\r\n            }\r\n\r\n            return false\r\n        }\r\n\r\n        const keep = (ttl, condition = has(keys.storage)) => {\r\n            if (support && condition) {\r\n                context[keys.storage] = now + parseInt(ttl)\r\n                return storage(keys.shadow).set(context)\r\n            }\r\n            return false\r\n        }\r\n\r\n        const has = (key) => {\r\n            return clean() && context[key] && context[key] >= now\r\n        }\r\n\r\n        const get = (fallback) => {\r\n            if (support && has(keys.storage)) {\r\n                return storage(keys.storage).get(fallback)\r\n            }\r\n            return fallback\r\n        }\r\n\r\n        return { set, unset, has, keep, get }\r\n    }\r\n\r\n    return {\r\n        support,\r\n        keyGenerator: (key = config.scope) => generator(scope).key(key),\r\n        set: (key = null, value = null, ttl = config.ttl) => middleware(key).set(value, ttl),\r\n        unset: (key = null) => middleware(key).unset(),\r\n        has: (key = null) => middleware(key).has(),\r\n        keep: (key = null, ttl = config.ttl) => middleware(key).keep(ttl),\r\n        get: (key = null, fallback = false) => middleware(key).get(fallback),\r\n        flush: (scope = config.scope) => middleware(scope).clean({ flush: true }),\r\n        cleanExpired: (scope = config.scope) => middleware(scope).clean(),\r\n    }\r\n}\r\n\r\nexport default Stocache\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(\"./src/index.js\");\n"],"sourceRoot":""}